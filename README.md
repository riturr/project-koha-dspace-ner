## Pre-requisites

### 1. Install the dependencies

```bash
pip install -r requirements.txt
python -m spacy download es_core_news_lg
```

### 2. [Install Tesseract](https://tesseract-ocr.github.io/tessdoc/Installation.html)

## Download the data

### 3. Start the scraper to download the data

TODO: Add instructions

### 4. Generate the training dataset for each entity

```bash
# Set the paths to the JSONL file generated by the scraper and the directory where the files were downloaded
DATA_PATH="<path to JSONL file generated by scrapy>"
FILES_PATH="<path to files downloaded by scrapy>"

# To generate a training dataset to train a model to recognize titles
python "./src/main/python/registration_asistant_ner/training_data/__init__.py" "$DATA_PATH" "$FILES_PATH"  --entities title --training_files_prefix title

# To generate a training dataset to train a model to recognize names of authors
python "./src/main/python/registration_asistant_ner/training_data/__init__.py" "$DATA_PATH" "$FILES_PATH"  --entities authors --training_files_prefix authors

# To generate a training dataset to train a model to recognize year of publication
python "./src/main/python/registration_asistant_ner/training_data/__init__.py" "$DATA_PATH" "$FILES_PATH"  --entities year --training_files_prefix year

# To generate a training dataset to train a model to recognize names of advisors
python "./src/main/python/registration_asistant_ner/training_data/__init__.py" "$DATA_PATH" "$FILES_PATH"  --entities advisors --training_files_prefix advisors

# To generate a training dataset to train a model to recognize names of faculties
python "./src/main/python/registration_asistant_ner/training_data/__init__.py" "$DATA_PATH" "$FILES_PATH"  --entities faculty --training_files_prefix faculty
```

To generate a training dataset to train a model to recognize names of programs (majors)
```bash
python "./src/main/python/registration_asistant_ner/training_data/__init__.py" "$DATA_PATH" "$FILES_PATH"  --entities program --training_files_prefix program
```

### 5. Train a NER model for each entity

```bash
python ".\src\main\python\registration_asistant_ner\training\__init__.py" \
  "<suffix>_training_data.spacy" \
  "<suffix>_test_data.spacy"
```

### 6. Evaluate the model

```bash
python ".\src\main\python\registration_asistant_ner\evaluation\__init__.py" \
  "<suffix>_test_data.spacy" \
  "<suffix>_model"
```

### 7. Run the model

```bash
python ".\src\main\python\registration_asistant_ner\__init__.py" \
  "<suffix>_model"
```